# 200. Number of Islands

Given a 2d grid map of `'1'`s (land) and `'0'`s (water), count the number of islands. An island is surrounded by water and is formed by connecting adjacent lands horizontally or vertically. You may assume all four edges of the grid are all surrounded by water.

**Example 1:**

```
Input:
11110
11010
11000
00000

Output: 1
```

**Example 2:**

```
Input:
11000
11000
00100
00011

Output: 3
```

经典的DFS题目

很容易想到用一个与输入grid尺寸相同的isVisited数组，当没有访问过的时候默认值都是false，当被访问后置为true，此后使用DFS，分别向上下左右四个方向进行递归（也就是DFS）

```c++
class Solution {
public:
    void visit(vector<vector<bool>> &isVisited, vector<vector<char>>& grid, int i, int j, int row, int col) {
        if(isVisited[i][j] || grid[i][j] == '0') return;
        isVisited[i][j] = true;
        if(i+1 < row)
            visit(isVisited, grid, i+1, j, row, col);
        if(i-1 >= 0)
            visit(isVisited, grid, i-1, j, row, col);
        if(j+1 < col)
            visit(isVisited, grid, i, j+1, row, col);
        if(j-1 >= 0)
            visit(isVisited, grid, i, j-1, row, col);
    }

    int numIslands(vector<vector<char>>& grid) {
        if(grid.size() == 0) return 0;
        int result = 0, row = grid.size(), col = grid[0].size();
        vector<vector<bool>> isVisited(row, vector<bool>(col, false));
        for(int i = 0; i < row; i++) {
            for(int j = 0; j < col; j++) {
                if(isVisited[i][j] || grid[i][j] == '0') continue;
                result++;
                visit(isVisited, grid, i, j, row, col);
            }
        }
        return result;
    }
};
```

有一种优化方法就是把isVisited数组去掉，反正grid='0'和isVisited=true的时候都会跳过，那就直接把'1'变成'0'就可以了，能省掉不少空间。

```c++
class Solution {
public:
    void visit(vector<vector<char>>& grid, int i, int j, int row, int col) {
        if(grid[i][j] == '0') return;
        grid[i][j] = '0';
        if(i+1 < row)
            visit(grid, i+1, j, row, col);
        if(i-1 >= 0)
            visit(grid, i-1, j, row, col);
        if(j+1 < col)
            visit(grid, i, j+1, row, col);
        if(j-1 >= 0)
            visit(grid, i, j-1, row, col);
    }

    int numIslands(vector<vector<char>>& grid) {
        if(grid.size() == 0) return 0;
        int result = 0, row = grid.size(), col = grid[0].size();
        for(int i = 0; i < row; i++) {
            for(int j = 0; j < col; j++) {
                if(grid[i][j] == '0') continue;
                result++;
                visit(grid, i, j, row, col);
            }
        }
        return result;
    }
};
```

